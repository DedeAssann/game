# importing the necessary modules

#: import Screen kivy.uix.screenmanager
#: import menu menu
#: import pagelayoutexample pagelayoutexample

# defining the different needed variables

#: set menu_title "G  A  L  A  X  Y"
#: set home_button_title "P  L  A  Y"
#: set pause_widget_title " R  E  S  U  M  E "
#: set settings_button_title "S  E  T  T  I  N  G  S"
#: set return_settings_button_title "H  O  M  E"
#: set _bw dp(3)


# The manager of the screen

WindowManager:
    HomeWindow:
    GameWindow:
    SettingsWindow:


# Window manager

<WindowManager>:

# defining the Screens

# the game window

<GameWindow>:
    name: "game_screen"
    main_widget: main_widget
    home_button: home_button
    fullscreen: fullscreen
    MainWidget:
        id: main_widget
    HomeButton:
        id: home_button
        on_press:
            app.root.current = "home_screen"
    FullScreenButton:
        id: fullscreen
        on_press: app.get_fullscreen("f11")


# home window

<HomeWindow>:
    name: "home_screen"
    canvas:
        Rectangle:
            size: self.size
            source: "bg1.jpg"
    ExitButton:
        id: exit_button
        on_release: root.exit()
    Label:
        font_size: dp(60)
        font_name: "fonts/Sackers-Gothic-Std-Light.ttf"
        text: menu_title
        pos_hint: {"center_x": .5, "center_y": .6}
    Button:
        canvas.before:
            Color:
                rgba: .2, .7, 1, .25
            Line:
                width: dp(2)
                rectangle: self.x, self.y, self.width, self.height
        font_size: dp(25)
        font_name: "fonts/Eurostile.ttf"
        text: home_button_title
        pos_hint: { "center_x": .5, "center_y": .3}
        size_hint: .2, .1
        on_press:
            app.root.current = "game_screen"
        background_color: .8, .5, 1, .2
    Button:
        canvas.before:
            Color:
                rgba: .2, .7, 1, .25
            Line:
                width: dp(2)
                rectangle: self.x, self.y, self.width, self.height
        font_size: dp(25)
        font_name: "fonts/Eurostile.ttf"
        text: settings_button_title
        pos_hint: { "right": 1, "top": 1}
        size_hint: .18, .08
        on_press: 
            app.root.current = "settings_screen"            
        background_color: .8, .5, 1, .2

# settins window

<SettingsWindow@Screen>:
    name: "settings_screen"
    anchor_layout: anchor_layout
    settings_widget: settings_widget
    canvas:
        Rectangle:
            size: self.size
            source: "bg1.jpg"
    Label:
        text: "S E T T I N G S"
        font_name: "fonts/Lcd.ttf"
        font_size: dp(180)
        pos_hint: {"center_x": .5, "top": 1}
        color: 1, 1, 1, .15
    AnchorLayout:
        id: anchor_layout
        anchor_x: "left"
        anchor_y: "bottom"
        size_hint: 1, .6
        pos_hint: {"right": 1, "center_y": .7}
        settings_widget: settings_widget
        canvas.before:
            Color:
                rgba: .2, 1, 1, .3
            Line:
                width: dp(2.5)
                rectangle: self.x, self.y, self.width, self.height
        SettingsWidget:
            id: settings_widget
    Button:
        canvas.before:
            Color:
                rgba: .2, .7, 1, .25
            Line:
                width: dp(2)
                rectangle: self.x, self.y, self.width, self.height
        font_size: dp(25)
        font_name: "fonts/Sackers-Gothic-Std-Light.ttf"
        text: return_settings_button_title
        pos_hint: { "right": .18, "top": .99}
        size_hint: .18, .08
        on_press:
            app.root.current = "home_screen"
        background_color: .8, .5, 1, .2              
    BoxLayout:
        orientation: 'vertical'
        size_hint: 1, .40
        GridLayout:
            rows:2
            cols:4
            spacing: dp(20)
            Button_1:
                on_press: root.settings_widget.page = 1
            Button_2:
                on_press: root.settings_widget.page = 2
            Button_3:
                on_press: root.settings_widget.page = 3
            Button_4:
                on_press: root.settings_widget.page = 4
            Button_5:
                on_press: root.settings_widget.page = 5
            Button_6:
                on_press: root.settings_widget.page = 6
            Button_7:
                on_press: root.settings_widget.page = 7
            Button_8:
                on_press: root.settings_widget.page = 8


# the game widget

<MainWidget>:
    canvas.before:
        Rectangle:
            size: self.size
            source: "bg1.jpg"
    menu_widget: menu_widget
    pause_widget: pause_widget
    pause_button: pause_button
    perspective_point_x: self.width/2
    perspective_point_y: self.height*0.75
    PauseWidget:
        id: pause_widget
    PauseButton:
        id: pause_button
        text: root.pause_button_txt
        on_press:
            root.on_pause_button_pressed()
    MenuWidget:
        id: menu_widget
    Label:
        id: score
        text: root.score_txt
        font_size: dp(32)
        font_name: "fonts/Lcd.ttf"
        size_hint: .2, .2
        pos_hint: {"x": 0, "top": 1}


# the pause widget

<PauseWidget>:
    canvas.before:
        Color:
            rgba: 0, 0, 0, .7
        Rectangle:
            size: self.size
    Label:
        font_size: dp(90)
        font_name: "fonts/Sackers-Gothic-Std-Light.ttf"
        text: pause_widget_title
        pos_hint: {"center_x": 0.5, "center_y": .75}

# The Home Button

<HomeButton>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .25
        Line:
            width: dp(2)
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(30)
    font_name: "fonts/Eurostile.ttf"
    text: return_settings_button_title
    pos_hint: { "right": 1, "top": 1}
    size_hint: .18, .08
    background_color: .8, .5, 1, .08


# The Exit button

<ExitButton@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .25
        Line:
            width: dp(2)
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(30)
    font_name: "fonts/Eurostile.ttf"
    text: "E X I T"
    pos_hint: { "right": .18, "top": 1}
    size_hint: .18, .08
    background_color: .8, .5, 1, .08


# The Pause Button

<PauseButton>:
    id: pause_button
    canvas.before:
        Color:
            rgba: .2, .7, 1, .25
        Line:
            width: dp(2)
            rectangle: self.x, self.y, self.width, self.height
    font_name: "fonts/Eurostile.ttf"
    font_size: dp(30)
    pos_hint: {"right": .18, "top": 1}
    size_hint: .18, .075
    background_color: .8, .5, 1, .08
    disabled: True

# Creation of all the settings page button
# Management all the buttons on the settings page

# first button

<Button_1@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: "S C O R E"
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06        
    background_color: .8, .5, 1, .2

# second button

<Button_2@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: " S  O  N  G "
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06
    on_press: 
        #app.root.current = "settings_screen"
    background_color: .8, .5, 1, .2

# third button

<Button_3@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text:
        """ 
        D  I  S  P  L  A  Y    
        S  E  T  T  I  N  G  S 
        """
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06
    on_press: 
        #app.root.current = "settings_screen"
    background_color: .8, .5, 1, .2

# fourth button

<Button_4@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: " L  E  V  E  L "
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06
    on_press: 
        #app.root.current = "settings_screen"
    background_color: .8, .5, 1, .2

# fifth button

<Button_5@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: "Button 5"
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06
    on_press: 
        #app.root.current = "settings_screen"
    background_color: .8, .5, 1, .2

# sixth button

<Button_6@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: "Button 6"
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06
    on_press: 
        #app.root.current = "settings_screen"
    background_color: .8, .5, 1, .2

# seventh button

<Button_7@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: "Button 7"
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06
    on_press: 
        #app.root.current = "settings_screen"
    background_color: .8, .5, 1, .2

# eighth button

<Button_8@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: "Button 8"
    pos_hint: { "right": 1, "top": 1}
    size_hint: .15, .06
    on_press: 
        #app.root.current = "settings_screen"
    background_color: .8, .5, 1, .2


# ...

<FullScreenButton@Button>:
    canvas.before:
        Color:
            rgba: .2, .7, 1, .5
        Line:
            width: _bw
            rectangle: self.x, self.y, self.width, self.height
    font_size: dp(20)
    font_name: "fonts/Eurostile.ttf"
    text: " FULL SCREEN"
    pos_hint: { "left": 1, "top": 1}
    size_hint: .15, .06        
    background_color: .8, .5, 1, .2
# So for now, I have to create many widgets to add to the page layout
# And then I'll link the functionality in them to the game components and controls
# So we'll have a complete settings page
# 

# Let's work!
