# importing the necessary modules

#: import Screen kivy.uix.screenmanager
#: import ScreenManager kivy.uix.screenmanager
#: import menu menu

# defining the different needed variables

#: set menu_title "G  A  L  A  X  Y"
#: set home_button_title "P  L  A  Y"
#: set settings_button_title "S  E  T  T  I  N  G  S"
#: set return_settings_button_title "H  O  M  E"


# The ScreenManager object that manages the screen

WindowManager:
    HomeWindow:
    GameWindow:
    SettingsWindow:


# defining the Screen that will manage the game Widget

<GameWindow@Screen>:
    name: "game_screen"
    MainWidget:
    Button:
        font_size: dp(30)
        font_name: "fonts/Eurostile.ttf"
        text: return_settings_button_title
        pos_hint: { "right": .2, "top": 1}
        size_hint: .2, .1
        on_press:
            app.root.current = "home_screen"
            root.manager.transition.direction = "up"
            #root.parent.on_menu_button_pressed()
        background_color: .8, .5, 1, .9


# the game widget

<MainWidget>:
    canvas.before:
        Rectangle:
            size: self.size
            source: "bg1.jpg"
    menu_widget: menu_widget
    #settings_widget: settings_window
    perspective_point_x: self.width/2
    perspective_point_y: self.height*0.75
    MenuWidget:
        id: menu_widget
    #SettingsWindow:
        #id: settings_window
    Label:
        id: score
        text: root.score_txt
        font_size: dp(25)
        font_name: "fonts/Lcd.ttf"
        size_hint: .2, .2
        pos_hint: {"x": 0, "top": 1}



# defining the menu window, which can be considered has the home page

<HomeWindow@Screen>:
    name: "home_screen"
    canvas:
        Rectangle:
            size: self.size
            source: "bg1.jpg"
    Label:
        font_size: dp(60)
        font_name: "fonts/Sackers-Gothic-Std-Light.ttf"
        text: menu_title
        pos_hint: {"center_x": .5, "center_y": .6}
    Button:
        font_size: dp(30)
        font_name: "fonts/Eurostile.ttf"
        text: home_button_title
        pos_hint: { "center_x": .5, "center_y": .3}
        size_hint: .2, .1
        on_press:
            app.root.current = "game_screen"
            root.manager.transition.direction = "up"
            #root.parent.on_menu_button_pressed()
        background_color: .8, .5, 1, .9
    Button:
        font_size: dp(30)
        font_name: "fonts/Eurostile.ttf"
        text: settings_button_title
        pos_hint: { "right": 1, "top": 1}
        size_hint: .28, .09
        on_press: 
            #root.parent.on_settings_button_pressed()
            app.root.current = "settings_screen"
            root.manager.transition.direction = "right"
        background_color: .8, .5, 1, .9


<SettingsWindow@Screen>:
    name: "settings_screen"
    canvas:
        #Color:
            #rgba: 0, 0, 0, 0.5
        Rectangle:
            size: self.size
            source: "bg1.jpg"
    Label:
        text: "S E T T I N G S"#root.parent.settings_button_title
        font_name: "fonts/Lcd.ttf"
        font_size: dp(150)
        pos_hint: {"center_x": .5, "top": 1}
        color: 1, 1, 1, 0.05
    Button:
        font_size: dp(20)
        font_name: "fonts/Sackers-Gothic-Std-Light.ttf"
        text: return_settings_button_title
        pos_hint: { "right": .28, "top": 1}
        size_hint: .28, .09
        on_press:
            app.root.current = "home_screen"
            root.manager.transition.direction = "left"
        background_color: .8, .5, 1, .9


<WindowManager@ScreenManager>:

